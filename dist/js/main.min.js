"use strict";var TodoInput,DateInput,PriorityInput,AddBtn,NewTodo,TodoList,AlertInfo,Popup,EditedToDo,EditedPriority,EditedDate,PopupInput,PopupDate,PopupPriority,AllLi,ClosePopupBtn,ChangeTaskBtn,TaskTitle,Day,Month,Year,FullDate,InputAlert,PopupAlert,Id=0,main=function(){prepareDOMElements(),prepareDOMEvents(),Day=(new Date).getDate(),Month=(new Date).getMonth()+1,Year=(new Date).getFullYear(),FullDate=Date.parse("".concat(Year,"-").concat(Month,"-").concat(Day))},prepareDOMElements=function(){TodoInput=document.querySelector(".todo-input"),DateInput=document.querySelector(".date-input"),PriorityInput=document.querySelector(".priority"),AddBtn=document.querySelector(".add-btn"),TodoList=document.querySelector(".list"),AlertInfo=document.querySelector(".todo-alert"),Id=0,Popup=document.querySelector(".popup"),PopupInput=document.querySelector(".popup-input"),PopupDate=document.querySelector(".popup-date"),PopupPriority=document.querySelector(".popup-priority"),AllLi=document.getElementsByTagName("li"),ClosePopupBtn=document.querySelector(".cancel"),ChangeTaskBtn=document.querySelector(".apply"),TaskTitle=document.querySelector(".task-title"),InputAlert=document.querySelector(".inputs-alert"),PopupAlert=document.querySelector(".popup-alert")},prepareDOMEvents=function(){TodoList.addEventListener("click",checkClick),AddBtn.addEventListener("click",checkTodo),ClosePopupBtn.addEventListener("click",closePopup),ChangeTaskBtn.addEventListener("click",checkPopup)},checkTodo=function(){""!==TodoInput.value&&""!==DateInput.value&&Date.parse(DateInput.value)>=FullDate&&"0"!==PriorityInput.value?(InputAlert.style.display="none",InputAlert.textContent="",addTodo()):""==TodoInput.value&&""==DateInput.value&&"0"==PriorityInput.value?(InputAlert.style.display="block",InputAlert.textContent="Wszystkie pola musza być wypełnione"):""==TodoInput.value&&""!==DateInput.value&&"0"!==PriorityInput.value?(InputAlert.style.display="block",InputAlert.textContent="Zadanie nie możesz być puste, wpisz treść zadania"):""!==TodoInput.value&&""!==DateInput.value&&"0"==PriorityInput.value?(InputAlert.style.display="block",InputAlert.textContent="Musisz wybrać priorytet zadania"):""!==TodoInput.value&&""==DateInput.value&&"0"!==PriorityInput.value?(InputAlert.style.display="block",InputAlert.textContent="Musisz wybrać datę zakończenia zadania"):""!==TodoInput.value&&""!==DateInput.value&&Date.parse(DateInput.value)<FullDate&&"0"!==PriorityInput.value&&(InputAlert.style.display="block",InputAlert.textContent="Nie możesz wybrać daty z przeszłości")},checkPriority=function(t,e){"1"==e.value?t.classList.add("green"):"2"==e.value?t.classList.add("blue"):"3"==e.value&&t.classList.add("red")},addTodo=function(){Id++,(NewTodo=document.createElement("li")).setAttribute("id","id".concat(Id)),NewTodo.classList.add("task"),TaskTitle.style.display="flex",NewTodo.style.display="flex";var t=document.createElement("div"),e=(t.classList.add("box"),t.textContent=TodoInput.value,document.createElement("div")),o=(e.classList.add("box","priority","bolded"),e.textContent=PriorityInput.options[PriorityInput.selectedIndex].text,checkPriority(e,PriorityInput),document.createElement("div")),a=(o.classList.add("box","date"),o.textContent=DateInput.value,document.createElement("div")),n=(a.classList.add("box","target-date"),Math.round((Date.parse(DateInput.value)-FullDate)/864e5));a.textContent="".concat(n," dni"),NewTodo.append(t,e,o,a),TodoList.appendChild(NewTodo),AlertInfo.style.display="none",TodoInput.value="",PriorityInput.value="0",DateInput.value="0",createToolsArea()},createToolsArea=function(){var t=document.createElement("div"),e=(t.classList.add("box"),NewTodo.appendChild(t),document.createElement("button")),o=(e.classList.add("complete"),e.innerHTML='<i class="fas fa-check"></i>',document.createElement("button")),a=(o.classList.add("edit"),o.textContent="EDIT",document.createElement("button"));a.classList.add("remove"),a.innerHTML='<i class="fas fa-times"></i>',t.appendChild(e),t.appendChild(o),t.appendChild(a)},checkClick=function(t){""!==t.target.classList.value?t.target.closest("button").classList.contains("complete")?(t.target.closest("li").classList.toggle("completed"),t.target.closest("button").classList.toggle("completed")):t.target.closest("button").classList.contains("edit")?editTask(t):t.target.closest("button").classList.contains("remove")&&deleteToDo(t):console.log(t.target)},editTask=function(t){Popup.style.display="flex";t=t.target.closest("li").id;EditedToDo=document.getElementById(t),EditedPriority=EditedToDo.getElementsByTagName("div")[1],EditedDate=EditedToDo.getElementsByTagName("div")[2],PopupInput.value=EditedToDo.firstChild.textContent,PopupDate.value=EditedDate.textContent,""!==EditedPriority.textContent&&("Niski"==EditedPriority.textContent?PopupPriority.value=1:"Średni"==EditedPriority.textContent?PopupPriority.value=2:"Wysoki"==EditedPriority.textContent&&(PopupPriority.value=3))},checkPopup=function(){""!==PopupInput.value&&""!==PopupDate&&Date.parse(PopupDate.value)>=FullDate&&"0"!==PopupPriority?changeToDo():""==PopupInput.value&&""!==PopupDate&&Date.parse(PopupDate.value)>=FullDate&&"0"!==PopupPriority?(PopupAlert.style.display="block",PopupAlert.textContent="Treść zadania nie może być pusta"):""!==PopupInput.value&&""==PopupDate&&Date.parse(PopupDate.value)>=FullDate&&"0"!==PopupPriority?(PopupAlert.style.display="block",PopupAlert.textContent="Wybierz date ukończenia zadania"):""!==PopupInput.value&&""!==PopupDate&&Date.parse(PopupDate.value)<FullDate&&"0"!==PopupPriority&&(PopupAlert.style.display="block",PopupAlert.textContent="Nie możesz wybrać daty z przeszłości")},changeToDo=function(){switch(EditedToDo.firstChild.textContent=PopupInput.value,Date.parse(PopupDate.value)>=FullDate&&(EditedDate.textContent=PopupDate.value,EditedToDo.getElementsByTagName("div")[3].textContent="".concat(Math.round((Date.parse(PopupDate.value)-FullDate)/864e5)," dni")),EditedPriority.textContent=PopupPriority.options[PopupPriority.selectedIndex].text,PopupPriority.value){case"1":EditedPriority.classList.remove("red","blue"),EditedPriority.classList.add("green");break;case"2":EditedPriority.classList.remove("red","green"),EditedPriority.classList.add("blue");break;case"3":EditedPriority.classList.remove("blue","green"),EditedPriority.classList.add("red")}Popup.style.display="none",PopupInput.value="",PopupAlert.style.display="none",PopupAlert.textContent=""},deleteToDo=function(t){t.target.closest("li").remove(),0==AllLi.length&&(AlertInfo.style.display="block",TaskTitle.style.display="none")},closePopup=function(){Popup.style.display="none"};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiVG9kb0lucHV0IiwiRGF0ZUlucHV0IiwiUHJpb3JpdHlJbnB1dCIsIkFkZEJ0biIsIk5ld1RvZG8iLCJBbGVydEluZm8iLCJJZCIsIlBvcHVwIiwiRWRpdGVkVG9EbyIsIkVkaXRlZFByaW9yaXR5IiwiRWRpdGVkRGF0ZSIsIlBvcHVwSW5wdXQiLCJQb3B1cERhdGUiLCJQb3B1cFByaW9yaXR5IiwiQWxsTGkiLCJDbG9zZVBvcHVwQnRuIiwiQ2hhbmdlVGFza0J0biIsIlRhc2tUaXRsZSIsIkRheSIsIk1vbnRoIiwiWWVhciIsIkZ1bGxEYXRlIiwiVG9kb0xpc3QiLCJQb3B1cEFsZXJ0IiwicHJlcGFyZURPTUVsZW1lbnRzIiwicHJlcGFyZURPTUV2ZW50cyIsImdldERhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJwYXJzZSIsImNvbmNhdCIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiSW5wdXRBbGVydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0NsaWNrIiwiY2xvc2VQb3B1cCIsImNoZWNrVG9kbyIsImNoZWNrUG9wdXAiLCJ0ZXh0Q29udGVudCIsInZhbHVlIiwiZGlzcGxheSIsImFkZFRvZG8iLCJzdHlsZSIsImNoZWNrUHJpb3JpdHkiLCJjbGFzc0xpc3QiLCJzZXRBdHRyaWJ1dGUiLCJ0YXNrVGl0bGUiLCJjcmVhdGVFbGVtZW50IiwicHJpb3JpdHkiLCJhZGQiLCJ0YXJnZXREYXRlIiwiYm94IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUb29sc0FyZWEiLCJ0b29sYm94IiwiY29tcGxldGVCdG4iLCJpbm5lckhUTUwiLCJlZGl0QnRuIiwicmVtb3ZlQnRuIiwiZSIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwidGV4dCIsInRhcmdldCIsImVkaXRUYXNrIiwiZGF0ZSIsImNsb3Nlc3QiLCJkZWxldGVUb0RvIiwicm91bmQiLCJyZXN1bHQiLCJvbGRUb0RvIiwiY2hhbmdlVG9EbyIsImZpcnN0Q2hpbGQiLCJ0b2dnbGUiLCJjb250YWlucyIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImdldEVsZW1lbnRCeUlkIiwiZGVsZXRlVGFzayIsImxlbmd0aCIsIk1hdGgiLCJyZW1vdmUiLCJtYWluIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxVQUNBQyxVQURBRCxjQUNBQyxPQUNBQyxRQUNBQyxTQUNBQyxVQUVBQyxNQUNBQyxXQUNBQyxlQUNBQyxXQUNBQyxXQUNBQyxVQUNBQyxjQUNBQyxNQUNBQyxjQUNBQyxjQUNBQyxVQUNBQyxJQUNBQyxNQUNBQyxLQUNBQyxTQUNBQyxXQUNBQyxXQWpCQUMsR0FBQUEsRUFtQkFDLEtBQUFBLFdBRUpDLG1CQUFhLEVBRVpDLGlCQURBRCxFQUVBTixLQURBTyxJQUFBQSxNQUFnQkMsUUFBRSxFQUVsQlAsT0FETSxJQUFJUSxNQUFPRCxTQUFTLEVBQUEsRUFFMUJOLE1BREssSUFBR08sTUFBUUMsWUFBVyxFQUczQlAsU0FBUU0sS0FBT0UsTUFBQ0EsR0FBQUEsT0FBS1QsS0FBQSxHQUFBLEVBQUFVLE9BQUlWLE1BQUksR0FBQSxFQUFBVSxPQUFBWixHQUFBLENBQUEsQ0FDOUIsRUFHQ2xCLG1CQUFxQitCLFdBQXJCL0IsVUFDU2dDLFNBQVdELGNBQWMsYUFBQyxFQUFuQzlCLFVBQ0FDLFNBQWdCOEIsY0FBU0QsYUFBYyxFQUF2QzdCLGNBQ1M4QixTQUFTRCxjQUFjLFdBQVcsRUFBM0M1QixPQUNPNkIsU0FBQUQsY0FBQSxVQUFBLEVBQ1BULFNBQ1NVLFNBQUdBLGNBQVNELE9BQWMsRUFBbkMxQixVQUNNMkIsU0FBQUQsY0FBQSxhQUFBLEVBQU56QixHQUNBQyxFQUFBQSxNQUNBQyxTQUFVdUIsY0FBQSxRQUFBLEVBR1ZwQixXQUNZcUIsU0FBU0QsY0FBYyxjQUFjLEVBQWpEbkIsVUFDQUMsU0FBZ0JtQixjQUFTRCxhQUFjLEVBQXZDbEIsY0FDUW1CLFNBQVNDLGNBQXFCLGlCQUFLLEVBQTNDbkIsTUFDQUMsU0FBZ0JpQixxQkFB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LENBRVA1QyxNQUFNcUMsTUFBTUYsUUFBVSxPQUN0Qi9CLFdBQVc4QixNQUFRLEdBQ25CbEIsV0FBV3FCLE1BQU1GLFFBQVUsT0FDM0JuQixXQUFXaUIsWUFBYyxFQUMxQixFQUVNNkIsV0FBYSxTQUFBUixHQUNDQSxFQUFFSSxPQUFPRyxRQUFRLElBQUksRUFDN0JnQixPQUFNLEVBRUcsR0FBaEJ0RSxNQUFNb0UsU0FDVDdFLFVBQVV1QyxNQUFNRixRQUFVLFFBQzFCekIsVUFBVTJCLE1BQU1GLFFBQVUsT0FFNUIsRUFFTUwsV0FBYSxXQUNsQjlCLE1BQU1xQyxNQUFNRixRQUFVLE1BQ3ZCLEVBRUFWLFNBQVNHLGlCQUFpQixtQkFBb0JrRCxJQUFJIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IFRvZG9JbnB1dFxyXG5sZXQgRGF0ZUlucHV0XHJcbmxldCBQcmlvcml0eUlucHV0XHJcbmxldCBBZGRCdG5cclxubGV0IE5ld1RvZG9cclxubGV0IFRvZG9MaXN0XHJcbmxldCBBbGVydEluZm9cclxubGV0IElkID0gMFxyXG5sZXQgUG9wdXBcclxubGV0IEVkaXRlZFRvRG9cclxubGV0IEVkaXRlZFByaW9yaXR5XHJcbmxldCBFZGl0ZWREYXRlXHJcbmxldCBQb3B1cElucHV0XHJcbmxldCBQb3B1cERhdGVcclxubGV0IFBvcHVwUHJpb3JpdHlcclxubGV0IEFsbExpXHJcbmxldCBDbG9zZVBvcHVwQnRuXHJcbmxldCBDaGFuZ2VUYXNrQnRuXHJcbmxldCBUYXNrVGl0bGVcclxubGV0IERheVxyXG5sZXQgTW9udGhcclxubGV0IFllYXJcclxubGV0IEZ1bGxEYXRlXHJcbmxldCBJbnB1dEFsZXJ0XHJcbmxldCBQb3B1cEFsZXJ0XHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpXHJcblx0cHJlcGFyZURPTUV2ZW50cygpXHJcblx0RGF5ID0gbmV3IERhdGUoKS5nZXREYXRlKClcclxuXHRNb250aCA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDFcclxuXHRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXHJcblxyXG5cdEZ1bGxEYXRlID0gRGF0ZS5wYXJzZShgJHtZZWFyfS0ke01vbnRofS0ke0RheX1gKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0VG9kb0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWlucHV0XCIpXHJcblx0RGF0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXRlLWlucHV0XCIpXHJcblx0UHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpb3JpdHlcIilcclxuXHRBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idG5cIilcclxuXHROZXdUb2RvXHJcblx0VG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3RcIilcclxuXHRBbGVydEluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tYWxlcnRcIilcclxuXHRJZCA9IDBcclxuXHRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIilcclxuXHRFZGl0ZWRUb0RvXHJcblx0RWRpdGVkUHJpb3JpdHlcclxuXHRFZGl0ZWREYXRlXHJcblx0UG9wdXBJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtaW5wdXRcIilcclxuXHRQb3B1cERhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWRhdGVcIilcclxuXHRQb3B1cFByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1wcmlvcml0eVwiKVxyXG5cdEFsbExpID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKVxyXG5cdENsb3NlUG9wdXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbFwiKVxyXG5cdENoYW5nZVRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFwcGx5XCIpXHJcblx0VGFza1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLXRpdGxlXCIpXHJcblx0SW5wdXRBbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRzLWFsZXJ0XCIpXHJcblx0UG9wdXBBbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYWxlcnRcIilcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRUb2RvTGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2hlY2tDbGljaylcclxuXHRBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoZWNrVG9kbylcclxuXHRDbG9zZVBvcHVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVBvcHVwKVxyXG5cdENoYW5nZVRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoZWNrUG9wdXApXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrVG9kbyA9ICgpID0+IHtcclxuXHRpZiAoXHJcblx0XHRUb2RvSW5wdXQudmFsdWUgIT09IFwiXCIgJiZcclxuXHRcdERhdGVJbnB1dC52YWx1ZSAhPT0gXCJcIiAmJlxyXG5cdFx0RGF0ZS5wYXJzZShEYXRlSW5wdXQudmFsdWUpID49IEZ1bGxEYXRlICYmXHJcblx0XHRQcmlvcml0eUlucHV0LnZhbHVlICE9PSBcIjBcIlxyXG5cdCkge1xyXG5cdFx0SW5wdXRBbGVydC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuXHRcdElucHV0QWxlcnQudGV4dENvbnRlbnQgPSBcIlwiXHJcblx0XHRhZGRUb2RvKClcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0VG9kb0lucHV0LnZhbHVlID09IFwiXCIgJiZcclxuXHRcdERhdGVJbnB1dC52YWx1ZSA9PSBcIlwiICYmXHJcblx0XHRQcmlvcml0eUlucHV0LnZhbHVlID09IFwiMFwiXHJcblx0KSB7XHJcblx0XHRJbnB1dEFsZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHRcdElucHV0QWxlcnQudGV4dENvbnRlbnQgPSBcIldzenlzdGtpZSBwb2xhIG11c3phIGJ5xIcgd3lwZcWCbmlvbmVcIlxyXG5cdH0gZWxzZSBpZiAoXHJcblx0XHRUb2RvSW5wdXQudmFsdWUgPT0gXCJcIiAmJlxyXG5cdFx0RGF0ZUlucHV0LnZhbHVlICE9PSBcIlwiICYmXHJcblx0XHRQcmlvcml0eUlucHV0LnZhbHVlICE9PSBcIjBcIlxyXG5cdCkge1xyXG5cdFx0SW5wdXRBbGVydC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXHJcblx0XHRJbnB1dEFsZXJ0LnRleHRDb250ZW50ID0gXCJaYWRhbmllIG5pZSBtb8W8ZXN6IGJ5xIcgcHVzdGUsIHdwaXN6IHRyZcWbxIcgemFkYW5pYVwiXHJcblx0fSBlbHNlIGlmIChcclxuXHRcdFRvZG9JbnB1dC52YWx1ZSAhPT0gXCJcIiAmJlxyXG5cdFx0RGF0ZUlucHV0LnZhbHVlICE9PSBcIlwiICYmXHJcblx0XHRQcmlvcml0eUlucHV0LnZhbHVlID09IFwiMFwiXHJcblx0KSB7XHJcblx0XHRJbnB1dEFsZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHRcdElucHV0QWxlcnQudGV4dENvbnRlbnQgPSBcIk11c2lzeiB3eWJyYcSHIHByaW9yeXRldCB6YWRhbmlhXCJcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0VG9kb0lucHV0LnZhbHVlICE9PSBcIlwiICYmXHJcblx0XHREYXRlSW5wdXQudmFsdWUgPT0gXCJcIiAmJlxyXG5cdFx0UHJpb3JpdHlJbnB1dC52YWx1ZSAhPT0gXCIwXCJcclxuXHQpIHtcclxuXHRcdElucHV0QWxlcnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG5cdFx0SW5wdXRBbGVydC50ZXh0Q29udGVudCA9IFwiTXVzaXN6IHd5YnJhxIcgZGF0xJkgemFrb8WEY3plbmlhIHphZGFuaWFcIlxyXG5cdH0gZWxzZSBpZiAoXHJcblx0XHRUb2RvSW5wdXQudmFsdWUgIT09IFwiXCIgJiZcclxuXHRcdERhdGVJbnB1dC52YWx1ZSAhPT0gXCJcIiAmJlxyXG5cdFx0RGF0ZS5wYXJzZShEYXRlSW5wdXQudmFsdWUpIDwgRnVsbERhdGUgJiZcclxuXHRcdFByaW9yaXR5SW5wdXQudmFsdWUgIT09IFwiMFwiXHJcblx0KSB7XHJcblx0XHRJbnB1dEFsZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHRcdElucHV0QWxlcnQudGV4dENvbnRlbnQgPSBcIk5pZSBtb8W8ZXN6IHd5YnJhxIcgZGF0eSB6IHByemVzesWCb8WbY2lcIlxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tQcmlvcml0eSA9IChib3gsIHZhbHVlKSA9PiB7XHJcblx0aWYgKHZhbHVlLnZhbHVlID09IFwiMVwiKSB7XHJcblx0XHRib3guY2xhc3NMaXN0LmFkZChcImdyZWVuXCIpXHJcblx0fSBlbHNlIGlmICh2YWx1ZS52YWx1ZSA9PSBcIjJcIikge1xyXG5cdFx0Ym94LmNsYXNzTGlzdC5hZGQoXCJibHVlXCIpXHJcblx0fSBlbHNlIGlmICh2YWx1ZS52YWx1ZSA9PSBcIjNcIikge1xyXG5cdFx0Ym94LmNsYXNzTGlzdC5hZGQoXCJyZWRcIilcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFkZFRvZG8gPSAoKSA9PiB7XHJcblx0e1xyXG5cdFx0SWQrK1xyXG5cdFx0TmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxyXG5cdFx0TmV3VG9kby5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgaWQke0lkfWApXHJcblx0XHROZXdUb2RvLmNsYXNzTGlzdC5hZGQoXCJ0YXNrXCIpXHJcblx0XHRUYXNrVGl0bGUuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiXHJcblx0XHROZXdUb2RvLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG5cclxuXHRcdGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHRcdHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKFwiYm94XCIpXHJcblx0XHR0YXNrVGl0bGUudGV4dENvbnRlbnQgPSBUb2RvSW5wdXQudmFsdWVcclxuXHJcblx0XHRjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHRcdHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoXCJib3hcIiwgXCJwcmlvcml0eVwiLCBcImJvbGRlZFwiKVxyXG5cdFx0cHJpb3JpdHkudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRQcmlvcml0eUlucHV0Lm9wdGlvbnNbUHJpb3JpdHlJbnB1dC5zZWxlY3RlZEluZGV4XS50ZXh0XHJcblx0XHRjaGVja1ByaW9yaXR5KHByaW9yaXR5LCBQcmlvcml0eUlucHV0KVxyXG5cclxuXHRcdGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0XHRkYXRlLmNsYXNzTGlzdC5hZGQoXCJib3hcIiwgXCJkYXRlXCIpXHJcblx0XHRkYXRlLnRleHRDb250ZW50ID0gRGF0ZUlucHV0LnZhbHVlXHJcblxyXG5cdFx0Y29uc3QgdGFyZ2V0RGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHRcdHRhcmdldERhdGUuY2xhc3NMaXN0LmFkZChcImJveFwiLCBcInRhcmdldC1kYXRlXCIpXHJcblx0XHRsZXQgcmVzdWx0ID0gTWF0aC5yb3VuZChcclxuXHRcdFx0KERhdGUucGFyc2UoRGF0ZUlucHV0LnZhbHVlKSAtIEZ1bGxEYXRlKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KVxyXG5cdFx0KVxyXG5cclxuXHRcdHRhcmdldERhdGUudGV4dENvbnRlbnQgPSBgJHtyZXN1bHR9IGRuaWBcclxuXHJcblx0XHROZXdUb2RvLmFwcGVuZCh0YXNrVGl0bGUsIHByaW9yaXR5LCBkYXRlLCB0YXJnZXREYXRlKVxyXG5cdFx0VG9kb0xpc3QuYXBwZW5kQ2hpbGQoTmV3VG9kbylcclxuXHRcdEFsZXJ0SW5mby5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuXHRcdFRvZG9JbnB1dC52YWx1ZSA9IFwiXCJcclxuXHRcdFByaW9yaXR5SW5wdXQudmFsdWUgPSBcIjBcIlxyXG5cdFx0RGF0ZUlucHV0LnZhbHVlID0gXCIwXCJcclxuXHJcblx0XHRjcmVhdGVUb29sc0FyZWEoKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY3JlYXRlVG9vbHNBcmVhID0gKCkgPT4ge1xyXG5cdGNvbnN0IHRvb2xib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0dG9vbGJveC5jbGFzc0xpc3QuYWRkKFwiYm94XCIpXHJcblx0TmV3VG9kby5hcHBlbmRDaGlsZCh0b29sYm94KVxyXG5cclxuXHRjb25zdCBjb21wbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcclxuXHRjb21wbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVcIilcclxuXHRjb21wbGV0ZUJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+J1xyXG5cclxuXHRjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxyXG5cdGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXRcIilcclxuXHRlZGl0QnRuLnRleHRDb250ZW50ID0gXCJFRElUXCJcclxuXHJcblx0Y29uc3QgcmVtb3ZlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxyXG5cdHJlbW92ZUJ0bi5jbGFzc0xpc3QuYWRkKFwicmVtb3ZlXCIpXHJcblx0cmVtb3ZlQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT4nXHJcblxyXG5cdHRvb2xib3guYXBwZW5kQ2hpbGQoY29tcGxldGVCdG4pXHJcblx0dG9vbGJveC5hcHBlbmRDaGlsZChlZGl0QnRuKVxyXG5cdHRvb2xib3guYXBwZW5kQ2hpbGQocmVtb3ZlQnRuKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0NsaWNrID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSAhPT0gXCJcIikge1xyXG5cdFx0aWYgKGUudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIikuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29tcGxldGVcIikpIHtcclxuXHRcdFx0ZS50YXJnZXQuY2xvc2VzdChcImxpXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJjb21wbGV0ZWRcIilcclxuXHRcdFx0ZS50YXJnZXQuY2xvc2VzdChcImJ1dHRvblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY29tcGxldGVkXCIpXHJcblx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIikuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWRpdFwiKSkge1xyXG5cdFx0XHRlZGl0VGFzayhlKVxyXG5cdFx0fSBlbHNlIGlmIChlLnRhcmdldC5jbG9zZXN0KFwiYnV0dG9uXCIpLmNsYXNzTGlzdC5jb250YWlucyhcInJlbW92ZVwiKSkge1xyXG5cdFx0XHRkZWxldGVUb0RvKGUpXHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnNvbGUubG9nKGUudGFyZ2V0KVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgZWRpdFRhc2sgPSBlID0+IHtcclxuXHRQb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcclxuXHJcblx0Y29uc3Qgb2xkVG9EbyA9IGUudGFyZ2V0LmNsb3Nlc3QoXCJsaVwiKS5pZFxyXG5cdEVkaXRlZFRvRG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvbGRUb0RvKVxyXG5cdEVkaXRlZFByaW9yaXR5ID0gRWRpdGVkVG9Eby5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKVsxXVxyXG5cdEVkaXRlZERhdGUgPSBFZGl0ZWRUb0RvLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzJdXHJcblxyXG5cdFBvcHVwSW5wdXQudmFsdWUgPSBFZGl0ZWRUb0RvLmZpcnN0Q2hpbGQudGV4dENvbnRlbnRcclxuXHRQb3B1cERhdGUudmFsdWUgPSBFZGl0ZWREYXRlLnRleHRDb250ZW50XHJcblxyXG5cdGlmIChFZGl0ZWRQcmlvcml0eS50ZXh0Q29udGVudCAhPT0gXCJcIikge1xyXG5cdFx0aWYgKEVkaXRlZFByaW9yaXR5LnRleHRDb250ZW50ID09IFwiTmlza2lcIikge1xyXG5cdFx0XHRQb3B1cFByaW9yaXR5LnZhbHVlID0gMVxyXG5cdFx0fSBlbHNlIGlmIChFZGl0ZWRQcmlvcml0eS50ZXh0Q29udGVudCA9PSBcIsWacmVkbmlcIikge1xyXG5cdFx0XHRQb3B1cFByaW9yaXR5LnZhbHVlID0gMlxyXG5cdFx0fSBlbHNlIGlmIChFZGl0ZWRQcmlvcml0eS50ZXh0Q29udGVudCA9PSBcIld5c29raVwiKSB7XHJcblx0XHRcdFBvcHVwUHJpb3JpdHkudmFsdWUgPSAzXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja1BvcHVwID0gKCkgPT4ge1xyXG5cdGlmIChcclxuXHRcdFBvcHVwSW5wdXQudmFsdWUgIT09IFwiXCIgJiZcclxuXHRcdFBvcHVwRGF0ZSAhPT0gXCJcIiAmJlxyXG5cdFx0RGF0ZS5wYXJzZShQb3B1cERhdGUudmFsdWUpID49IEZ1bGxEYXRlICYmXHJcblx0XHRQb3B1cFByaW9yaXR5ICE9PSBcIjBcIlxyXG5cdCkge1xyXG5cdFx0Y2hhbmdlVG9EbygpXHJcblx0fSBlbHNlIGlmIChcclxuXHRcdFBvcHVwSW5wdXQudmFsdWUgPT0gXCJcIiAmJlxyXG5cdFx0UG9wdXBEYXRlICE9PSBcIlwiICYmXHJcblx0XHREYXRlLnBhcnNlKFBvcHVwRGF0ZS52YWx1ZSkgPj0gRnVsbERhdGUgJiZcclxuXHRcdFBvcHVwUHJpb3JpdHkgIT09IFwiMFwiXHJcblx0KSB7XHJcblx0XHRQb3B1cEFsZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHRcdFBvcHVwQWxlcnQudGV4dENvbnRlbnQgPSBcIlRyZcWbxIcgemFkYW5pYSBuaWUgbW/FvGUgYnnEhyBwdXN0YVwiXHJcblx0fSBlbHNlIGlmIChcclxuXHRcdFBvcHVwSW5wdXQudmFsdWUgIT09IFwiXCIgJiZcclxuXHRcdFBvcHVwRGF0ZSA9PSBcIlwiICYmXHJcblx0XHREYXRlLnBhcnNlKFBvcHVwRGF0ZS52YWx1ZSkgPj0gRnVsbERhdGUgJiZcclxuXHRcdFBvcHVwUHJpb3JpdHkgIT09IFwiMFwiXHJcblx0KSB7XHJcblx0XHRQb3B1cEFsZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHRcdFBvcHVwQWxlcnQudGV4dENvbnRlbnQgPSBcIld5YmllcnogZGF0ZSB1a2/FhGN6ZW5pYSB6YWRhbmlhXCJcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0UG9wdXBJbnB1dC52YWx1ZSAhPT0gXCJcIiAmJlxyXG5cdFx0UG9wdXBEYXRlICE9PSBcIlwiICYmXHJcblx0XHREYXRlLnBhcnNlKFBvcHVwRGF0ZS52YWx1ZSkgPCBGdWxsRGF0ZSAmJlxyXG5cdFx0UG9wdXBQcmlvcml0eSAhPT0gXCIwXCJcclxuXHQpIHtcclxuXHRcdFBvcHVwQWxlcnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG5cdFx0UG9wdXBBbGVydC50ZXh0Q29udGVudCA9IFwiTmllIG1vxbxlc3ogd3licmHEhyBkYXR5IHogcHJ6ZXN6xYJvxZtjaVwiXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGFuZ2VUb0RvID0gKCkgPT4ge1xyXG5cdEVkaXRlZFRvRG8uZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IFBvcHVwSW5wdXQudmFsdWVcclxuXHRpZiAoRGF0ZS5wYXJzZShQb3B1cERhdGUudmFsdWUpID49IEZ1bGxEYXRlKSB7XHJcblx0XHRFZGl0ZWREYXRlLnRleHRDb250ZW50ID0gUG9wdXBEYXRlLnZhbHVlXHJcblx0XHRFZGl0ZWRUb0RvLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzNdLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZChcclxuXHRcdFx0KERhdGUucGFyc2UoUG9wdXBEYXRlLnZhbHVlKSAtIEZ1bGxEYXRlKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KVxyXG5cdFx0KX0gZG5pYFxyXG5cdH1cclxuXHRFZGl0ZWRQcmlvcml0eS50ZXh0Q29udGVudCA9XHJcblx0XHRQb3B1cFByaW9yaXR5Lm9wdGlvbnNbUG9wdXBQcmlvcml0eS5zZWxlY3RlZEluZGV4XS50ZXh0XHJcblxyXG5cdHN3aXRjaCAoUG9wdXBQcmlvcml0eS52YWx1ZSkge1xyXG5cdFx0Y2FzZSBcIjFcIjpcclxuXHRcdFx0RWRpdGVkUHJpb3JpdHkuY2xhc3NMaXN0LnJlbW92ZShcInJlZFwiLCBcImJsdWVcIilcclxuXHRcdFx0RWRpdGVkUHJpb3JpdHkuY2xhc3NMaXN0LmFkZChcImdyZWVuXCIpXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlIFwiMlwiOlxyXG5cdFx0XHRFZGl0ZWRQcmlvcml0eS5jbGFzc0xpc3QucmVtb3ZlKFwicmVkXCIsIFwiZ3JlZW5cIilcclxuXHRcdFx0RWRpdGVkUHJpb3JpdHkuY2xhc3NMaXN0LmFkZChcImJsdWVcIilcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgXCIzXCI6XHJcblx0XHRcdEVkaXRlZFByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoXCJibHVlXCIsIFwiZ3JlZW5cIilcclxuXHRcdFx0RWRpdGVkUHJpb3JpdHkuY2xhc3NMaXN0LmFkZChcInJlZFwiKVxyXG5cdFx0XHRicmVha1xyXG5cdH1cclxuXHRQb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuXHRQb3B1cElucHV0LnZhbHVlID0gXCJcIlxyXG5cdFBvcHVwQWxlcnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcblx0UG9wdXBBbGVydC50ZXh0Q29udGVudCA9IFwiXCJcclxufVxyXG5cclxuY29uc3QgZGVsZXRlVG9EbyA9IGUgPT4ge1xyXG5cdGNvbnN0IGRlbGV0ZVRhc2sgPSBlLnRhcmdldC5jbG9zZXN0KFwibGlcIilcclxuXHRkZWxldGVUYXNrLnJlbW92ZSgpXHJcblxyXG5cdGlmIChBbGxMaS5sZW5ndGggPT0gMCkge1xyXG5cdFx0QWxlcnRJbmZvLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHRcdFRhc2tUaXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcblx0UG9wdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIG1haW4pXHJcbiJdfQ==
